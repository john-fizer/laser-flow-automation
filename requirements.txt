fastapi
uvicorn
sqlalchemy
psycopg2-binary
alembic
pydantic
pydantic-settings
requests
xmltodict
watchdog
python-multipart
python-dotenv
pandas

import os
import pandas as pd

# =============================
# PATHS (relative to this script's location)
# =============================
SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))

INPUT_FOLDER = os.path.join(SCRIPT_DIR, "ERP CSV")
OUTPUT_FOLDER = os.path.join(SCRIPT_DIR, "Mazak Watch Folder")

INPUT_FILE = os.path.join(INPUT_FOLDER, "Mock ERP.csv")
OUTPUT_FILE = os.path.join(OUTPUT_FOLDER, "orders_cleaned.csv")

# =============================
# Create folders if they don't exist
# =============================
os.makedirs(INPUT_FOLDER, exist_ok=True)
os.makedirs(OUTPUT_FOLDER, exist_ok=True)

# =============================
# Load and clean the data
# =============================
try:
    df = pd.read_csv(INPUT_FILE)
except FileNotFoundError:
    print(f"Error: Input file not found at {INPUT_FILE}")
    exit(1)

# Convert Order Qty to numeric, fill NaN with 0
df["Order Qty"] = pd.to_numeric(df["Order Qty"], errors="coerce").fillna(0)

# Sort: 
# 1. Largest quantity first (descending)
# 2. Then by Material Type (ascending)
df = df.sort_values(
    by=["Order Qty", "Material Type"],
    ascending=[False, True]
)

# Optional: If you later get a due date column, add it as third sort key like this:
# df = df.sort_values(by=["Order Qty", "Material Type", "Due Date"], ascending=[False, True, True])

# =============================
# Save the cleaned & sorted file
# =============================
df.to_csv(OUTPUT_FILE, index=False)

print("Processing complete.")
print(f"Cleaned file saved to: {OUTPUT_FILE}")





Markdown.md per scope
Add in commented out API key plus pull/read criteria 
add logic for continuous updates, and how to ensure we don't pull in the same data multiple times. 
so script for update the difference of new input and what's already been inputted then update, send to the next part of the pipeline? 

import unformatted csv, 
convert, drop, clean and sort csv 
   conversions
#converting the clean data to what Mazak Smart System wants FORMATTING changing headers to the correct file naming system
#changing the QJ_PartNumber to the DXF file name? I'm hoping the dxf name is the same as the QJ_PartNumber.
    #This would skip this step, I'm going to write it as this is the assumption, and make the comment out pseudo code for the other logic
     #Removing unnecessary columns    
2 weeks out orders only, at first - priortizing the order rank by material up to 2 weeks out and then as time continues for the rest of the way
        # Convert Order Qty to numeric, fill NaN with 0
    df["Order Qty"] = pd.to_numeric(df["Order Qty"], errors="coerce").fillna(0)

    # Sort: 
    # 1. Largest quantity first (descending)
    # 2. Then by Material Type (ascending)
    df = df.sort_values(
    by=["Order Qty", "Material Type", "DueDate"],
    ascending=[False, True]
)


